"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[451],{7211:function(n,e,r){r.d(e,{P:function(){return o}});var t=r(9085),o=function(){t.Am.error("Error! Bad request!",{position:t.Am.POSITION.TOP_CENTER,autoClose:3e3}),t.Am.clearWaitingQueue()}},5451:function(n,e,r){r.r(e),r.d(e,{default:function(){return ce}});var t,o,i=r(2426),a=r.n(i),c=r(2791),l=r(9434),s=r(993),u=r(4165),d=r(5861),f=r(6382),p=r(9085),x=r(1243),h=r(5357),m=r(8840),g=(0,f.hg)("ADD_BOOK_THUNK",function(){var n=(0,d.Z)((0,u.Z)().mark((function n(e,r){var t;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=r.dispatch,n.prev=1,t((0,h.f8)()),n.next=5,(0,x.TA)(e);case 5:return t((0,h.Zq)()),t((0,m.I)()),n.next=9,t((0,s.K)());case 9:p.Am.success("Book is created!"),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),t((0,h.jQ)(n.t0.data)),p.Am.error("Something went wrong");case 16:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e,r){return n.apply(this,arguments)}}()),b=r(3238),v=r(1541),j=(0,f.hg)("BOOK_LIST_DELETE_THUNK_TYPE",function(){var n=(0,d.Z)((0,u.Z)().mark((function n(e,r){var t;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=r.dispatch,n.prev=1,t((0,v.pF)()),n.next=5,(0,x.MC)(e._id);case 5:return t((0,v.pS)()),t((0,m.I)()),n.next=9,t((0,s.K)());case 9:p.Am.success("Book is deleted!"),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),t((0,v.V8)(n.t0.data)),p.Am.error("Something went wrong");case 16:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e,r){return n.apply(this,arguments)}}()),Z=r(6916),k=function(n){return n.pagination},w=(0,Z.P1)(k,(function(n){return n.currentPage})),C=(0,Z.P1)(k,(function(n){return n.itemsPerPage})),y=(0,Z.P1)((function(n){return n}),(function(n){var e=n.pagination,r=n.books,t=e.itemsPerPage,o=t*e.currentPage,i=o-t;return r.data.slice(i,o)})),P=r(9302),S=r(7034),T=function(n){return n.modal},I=function(n){return n.addBook},_=(0,Z.P1)(I,(function(n){return n.loading})),D=((0,Z.P1)(I,(function(n){return n.data})),(0,Z.P1)(I,(function(n){return n.error})),r(3544)),B=r(168),E=r(2499),A=r(7309),N=(0,E.Z)(A.Z)(t||(t=(0,B.Z)(["\n  cursor: pointer;\n  color: #ffffff;\n  background-color: #ff6b08;\n  border: 1px solid #ff6b08;\n  min-width: 73px;\n  transition: color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover,\n  &:focus {\n    color: #212121;\n    background-color: #f5f4fa;\n    border: 1px solid #ff6b08;\n    box-shadow: 0px 3px 1px rgba(0, 0, 0, 0.1), 0px 1px 2px rgba(0, 0, 0, 0.08),\n      0px 2px 2px rgba(0, 0, 0, 0.12);\n  }\n"]))),z=(0,E.Z)(A.Z)(o||(o=(0,B.Z)(["\n  cursor: pointer;\n  &:hover,\n  &:focus {\n    color: #212121;\n    border: 1px solid #ff6b08;\n    box-shadow: 0px 3px 1px rgba(0, 0, 0, 0.1), 0px 1px 2px rgba(0, 0, 0, 0.08),\n      0px 2px 2px rgba(0, 0, 0, 0.12);\n  }\n"]))),q=r(184),M=function(n){var e=n.children,r=n.onCancel,t=n.formName,o=n.loading,i=n.onSave,a=[(0,q.jsx)(z,{onClick:r,children:"Cancel"},"cancel"),(0,q.jsx)(N,{type:"primary",danger:"delete"===t,loading:o,htmlType:"submit",form:t,onClick:i,children:"Confirm"},"submit")];return(0,q.jsx)(D.Z,{visible:!0,onCancel:r,confirmLoading:o,zIndex:2e3,footer:a,children:e})};M.defaultProps={onSave:function(){}};var O,U,V,K,L,Y,H,Q,F,R,W,X,G,J,$,nn,en,rn,tn,on=r(1413),an=r(1134),cn=r(7942),ln=r(1265),sn=r(9441),un=E.Z.form(O||(O=(0,B.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),dn=E.Z.p(U||(U=(0,B.Z)(["\n  color: red;\n"]))),fn=E.Z.label(V||(V=(0,B.Z)(["\n  margin-top: 8px;\n  color: #212121;\n"]))),pn=E.Z.input(K||(K=(0,B.Z)(["\n  &:focus,\n  &:hover {\n    outline-color: #778899;\n  }\n"]))),xn=E.Z.textarea(L||(L=(0,B.Z)(["\n  height: 70px;\n  &:focus,\n  &:hover {\n    outline-color: #778899;\n  }\n"]))),hn=cn.Ry({title:cn.Z_().required("This field is required"),description:cn.Z_().required("This field is required"),pageCount:cn.Rx().positive("Value must be a positive number").integer("Value must be an integer").required("This field is required")}),mn=function(n){var e=n.mode,r=n.data,t=n.name,o=n.onSave,i=sn.Z.Title,a=(0,an.cI)({resolver:(0,ln.X)(hn)}),c=a.control,l=a.handleSubmit,s=a.formState.errors,f=function(){var n=(0,d.Z)((0,u.Z)().mark((function n(e){return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{o(r?(0,on.Z)((0,on.Z)({},e),{},{id:r._id}):e)}catch(t){}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,q.jsxs)(q.Fragment,{children:["create"===e&&(0,q.jsx)(i,{level:3,children:"Create Book"}),"update"===e&&(0,q.jsx)(i,{level:3,children:"Update Book"}),(0,q.jsxs)(un,{onSubmit:l(f),id:t,children:[(0,q.jsx)(fn,{children:"Title"}),(0,q.jsx)(an.Qr,{render:function(n){var e=n.field;return(0,q.jsx)(pn,(0,on.Z)({},e))},name:"title",control:c,defaultValue:(null===r||void 0===r?void 0:r.title)||""}),s.title&&(0,q.jsx)(dn,{children:s.title.message}),(0,q.jsx)(fn,{children:"Description"}),(0,q.jsx)(an.Qr,{render:function(n){var e=n.field;return(0,q.jsx)(xn,(0,on.Z)({},e))},name:"description",control:c,defaultValue:(null===r||void 0===r?void 0:r.description)||""}),s.description&&(0,q.jsx)(dn,{children:s.description.message}),(0,q.jsx)(fn,{children:"Pages"}),(0,q.jsx)(an.Qr,{render:function(n){var e=n.field;return(0,q.jsx)(pn,(0,on.Z)({},e))},name:"pageCount",control:c,defaultValue:null===r||void 0===r?void 0:r.pageCount}),s.pageCount&&(0,q.jsx)(dn,{children:s.pageCount.message})]})]})},gn=r(241),bn=function(n){var e=n.onSave,r=n.onCancel,t=(0,l.v9)(_);return(0,q.jsxs)(M,{form:"create",onCancel:r,formName:"create",loading:t,children:[t&&(0,q.jsx)(gn.a,{}),!t&&(0,q.jsx)(mn,{mode:"create",onSave:e,name:"create"})]})},vn=function(n){return n.updateBook},jn=(0,Z.P1)(vn,(function(n){return n.loading})),Zn=(0,Z.P1)(vn,(function(n){return n.data})),kn=(0,Z.P1)(vn,(function(n){return n.fetchData})),wn=((0,Z.P1)(vn,(function(n){return n.error})),function(n){var e=n.onSave,r=n.onCancel,t=(0,l.I0)(),o=(0,l.v9)(kn),i=(0,l.v9)(Zn),a=(0,l.v9)(jn),s=sn.Z.Text;return(0,c.useEffect)((function(){t((0,b.T)(o))}),[]),(0,q.jsxs)(M,{loading:a,form:"edit",onCancel:r,formName:"edit",disable:!i,children:[a&&(0,q.jsx)(gn.a,{}),!a&&i&&(0,q.jsx)(mn,{mode:"update",onSave:e,data:i,name:"edit"}),!i&&(0,q.jsx)(s,{type:"danger",children:" Something went wrong"})]})}),Cn=function(n){return n.deleteBook},yn=(0,Z.P1)(Cn,(function(n){return n.loading})),Pn=(0,Z.P1)(Cn,(function(n){return n.data})),Sn=((0,Z.P1)(Cn,(function(n){return n.error})),r(5303)),Tn=function(n){var e=n.onSave,r=n.onCancel,t=(0,l.v9)(yn),o=(0,l.v9)(Pn),i=sn.Z.Title,a=sn.Z.Text;return(0,q.jsxs)(M,{loading:t,onCancel:r,onSave:function(){return e(o)},formName:"delete",children:[t&&(0,q.jsx)(gn.a,{}),!t&&(0,q.jsxs)(Sn.Z,{direction:"vertical",children:[(0,q.jsxs)(i,{level:5,children:["Are you sure that you want to delete"," ",(0,q.jsx)(a,{underline:!0,italic:!0,children:o.title}),"?"]}),(0,q.jsx)(a,{children:"The item will be deleted immediately. You can not undo this action."})]})]})},In=r(9439),_n=r(7160),Dn=r(3504),Bn=r(762),En=r(6146),An=r(1752),Nn=r(2622),zn=function(n){var e=n.data,r=n.onEdit,t=n.onDelete,o=n.handleMenuClick,i=e._id;return(0,q.jsxs)(Bn.Z,{onClick:o,children:[(0,q.jsx)(Bn.Z.Item,{icon:(0,q.jsx)(En.Z,{}),children:(0,q.jsx)(Dn.rU,{to:"/books/".concat(i),children:"Open"})},"1"),(0,q.jsx)(Bn.Z.Item,{icon:(0,q.jsx)(An.Z,{}),onClick:function(){return r(i)},children:(0,q.jsx)("span",{children:"Edit"})},"2"),(0,q.jsx)(Bn.Z.Item,{icon:(0,q.jsx)(Nn.Z,{}),onClick:function(){return t(e)},children:(0,q.jsx)("span",{children:"Delete"})},"3")]})},qn=r(711),Mn=(0,E.Z)(qn.Z)(Y||(Y=(0,B.Z)(["\n  color: #000000;\n  font-size: 25px;\n  &:hover,\n  &:focus {\n    color: #ff6b08;\n  }\n"]))),On=void 0,Un=function(n){var e=(0,c.useState)(!1),r=(0,In.Z)(e,2),t=r[0],o=r[1];return(0,q.jsx)(_n.Z,{overlay:(0,q.jsx)(zn,(0,on.Z)((0,on.Z)({},n),{},{handleMenuClick:function(n){"3"===n.key&&On.setState({visible:!1})}})),onVisibleChange:function(n){o(n)},visible:t,placement:"top",arrow:!0,children:(0,q.jsx)("a",{children:(0,q.jsx)(Mn,{})})})},Vn=r(3433),Kn=E.Z.div(H||(H=(0,B.Z)(["\n  display: flex;\n  justify-content: center;\n  gap: 16px;\n  margin-top: 60px;\n"]))),Ln=E.Z.ul(Q||(Q=(0,B.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n"]))),Yn=E.Z.li(F||(F=(0,B.Z)(["\n  height: 40px;\n  width: 40px;\n  border-radius: 50%;\n  cursor: pointer;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n\n  &:hover,\n  &.selected {\n    background-color: #ff6b08;\n    color: #ffffff;\n  }\n"]))),Hn=E.Z.button(R||(R=(0,B.Z)(["\n  background-color: #ffffff;\n  border: 1px solid #ff6b08;\n  height: 40px;\n  width: 40px;\n  border-radius: 50%;\n  pointer-events: none;\n  cursor: not-allowed;\n  opacity: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    background-color: #ff6b08;\n  }\n  &:not(:disabled) {\n    cursor: pointer;\n    pointer-events: all;\n    opacity: 100%;\n  }\n"]))),Qn=E.Z.svg(W||(W=(0,B.Z)(["\n  height: 24px;\n  width: 24px;\n  stroke: #ff6b08;\n\n  &:hover {\n    stroke: #ffffff;\n  }\n"]))),Fn=function(n){var e=n.paginationHandler,r=n.dataPerPage,t=n.count,o=n.pageNumber,i=Math.ceil(t/r),a=(0,Vn.Z)(Array(i).keys()),c=function(n){e(n)};return(0,q.jsxs)(Kn,{children:[(0,q.jsx)(Hn,{disabled:1===o,onClick:function(){c(o-1)},children:(0,q.jsx)(Qn,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,q.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),(0,q.jsx)(Ln,{children:a.map((function(n,e){return(0,q.jsx)(Yn,{className:n+1===o?"selected":"",onClick:function(){c(n+1)},children:n+1},e)}))}),(0,q.jsx)(Hn,{disabled:a.length===o,onClick:function(){c(o+1)},children:(0,q.jsx)(Qn,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,q.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]})},Rn=r(7211),Wn=function(n){return n.books},Xn=(0,Z.P1)(Wn,(function(n){return n.loading})),Gn=(0,Z.P1)(Wn,(function(n){return n.data})),Jn=(0,Z.P1)(Wn,(function(n){return n.error})),$n=E.Z.div(X||(X=(0,B.Z)(["\n  max-width: 1300px;\n  padding-left: 15px;\n  padding-right: 15px;\n  margin: 0 auto;\n"]))),ne=E.Z.ul(G||(G=(0,B.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin-top: 15px;\n"]))),ee=E.Z.li(J||(J=(0,B.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 30px;\n  width: 400px;\n  height: 250px;\n  margin-right: 30px;\n  padding: 20px 24px;\n  border: 1px solid #ececec;\n  @media (min-width: 768px) and (max-width: 1199px) {\n    &:nth-of-type(2n) {\n      margin-right: 0;\n    }\n    &:nth-last-of-type(2n) {\n      margin-bottom: 0;\n    }\n  }\n  @media (min-width: 1200px) {\n    &:nth-of-type(3n + 3) {\n      margin-right: 0;\n    }\n    &:nth-last-of-type(-n + 3) {\n      margin-bottom: 0;\n    }\n  }\n"]))),re=E.Z.h3($||($=(0,B.Z)(["\n  font-size: 20px;\n  margin-top: 10px;\n  margin-bottom: 8px;\n  color: #212121;\n"]))),te=E.Z.span(nn||(nn=(0,B.Z)(["\n  color: #212121;\n"]))),oe=E.Z.p(en||(en=(0,B.Z)(["\n  margin-bottom: 5px;\n"]))),ie=E.Z.button(rn||(rn=(0,B.Z)(["\n  display: flex;\n  font-family: inherit;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 1.63;\n  letter-spacing: 0.03em;\n  margin-top: 10px;\n  cursor: pointer;\n  color: #ffffff;\n  background-color: #ff6b08;\n  padding: 6px 22px;\n  border: 1px solid #ff6b08;\n  border-radius: 4px;\n  min-width: 73px;\n  transition: color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover,\n  &:focus {\n    color: #212121;\n    background-color: #f5f4fa;\n    box-shadow: 0px 3px 1px rgba(0, 0, 0, 0.1), 0px 1px 2px rgba(0, 0, 0, 0.08),\n      0px 2px 2px rgba(0, 0, 0, 0.12);\n  }\n"]))),ae=E.Z.div(tn||(tn=(0,B.Z)(["\n  display: flex;\n  justify-content: space-between;\n"])));function ce(){var n=(0,l.I0)(),e=(0,l.v9)(Gn),r=(0,l.v9)(Xn),t=(0,l.v9)(Jn),o=(0,l.v9)(w),i=(0,l.v9)(C),u=(0,l.v9)(y),d=(0,l.v9)(T),f=d.onShow,p=d.name,x=function(){n((0,m.I)({name:"Create"}))},h=(0,c.useCallback)((function(e){n((0,S.Fu)({id:e})),n((0,m.I)({name:"Update"}))}),[]),Z=(0,c.useCallback)((function(){n((0,m.I)({name:"Update"}))}),[]),k=(0,c.useCallback)((function(e){n((0,v.VH)(e)),n((0,m.I)({name:"Delete"}))}),[]);return(0,c.useEffect)((function(){n((0,s.K)())}),[n]),(0,q.jsxs)($n,{children:[r&&!e&&!t&&(0,q.jsx)(gn.a,{}),!r&&!t&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(ie,{onClick:x,children:"Create book"}),(0,q.jsx)(ne,{children:u.map((function(n){return(0,q.jsxs)(ee,{children:[(0,q.jsxs)(ae,{children:[(0,q.jsx)(re,{children:n.title}),(0,q.jsx)(Un,{data:n,onEdit:h,onDelete:k})]}),(0,q.jsxs)(oe,{children:[(0,q.jsx)(te,{children:"Description: "}),n.description.slice(0,100),"..."]}),(0,q.jsxs)(oe,{children:[(0,q.jsx)(te,{children:"Pages: "}),n.pageCount]}),(0,q.jsxs)(oe,{children:[(0,q.jsx)(te,{children:"Create Date: "}),a()(n.date).format("DD.MM.YYYY")]})]},n._id)}))})]}),!r&&!t&&(0,q.jsx)(Fn,{dataPerPage:i,count:e.length,paginationHandler:function(e){n((0,P.UI)({page:e}))},pageNumber:o}),f&&"Create"===p&&(0,q.jsx)(bn,{onSave:function(e){n(g(e))},onCancel:x}),f&&"Update"===p&&(0,q.jsx)(wn,{onSave:function(e){n((0,b.m)(e))},onCancel:Z}),f&&"Delete"===p&&(0,q.jsx)(Tn,{onSave:function(e){n(j(e))},onCancel:k}),!r&&t&&(0,q.jsx)(Rn.P,{})]})}}}]);
//# sourceMappingURL=451.5a8feaed.chunk.js.map